@model IEnumerable<GoGaming.Models.ComunidadViewModel>
@using PracticaDSMGenNHibernate.EN.DSMPracticas;
@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 align="center">Go-Gaming<img src="~/Images/logo.png" width="40" height="40" /></h2>
<br />


@using (Html.BeginForm("Buscar", "Juego", FormMethod.Post, null))
{

    <div class="form-inline" align="center">
        <div class="form-group pl-2">
            <input type="search" class="form-control" id="text" name="nom" placeholder="Introduce un juego...">
        </div>
        <button type="submit" class="btn btn-primary" style="color:#FFFFFF"> <span class="glyphicon glyphicon-search"></span> Buscar</button>

    </div>

    <br />
}


<br />

<h3 align="center">Juegos Más Populares</h3>

<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">


        @foreach (var item in (IList<JuegoEN>)ViewData["JuegoReci"])
        {
            string ruta2 = "/Images/" + item.Portada + ".jpg";

            if (int.Parse(ViewData["iter"].ToString()) == 0)
            {
                <div class="item active" align="center">
                    <img src=@item.Portada width="400" height="400" alt=""> @Html.ActionLink(item.Nombre, "../Juego/Details", new { nombre = item.Nombre })   @*@Html.ActionLink(linkText: item.Nombre, actionName: "Details", controllerName: "Juego", routeValues: new { id = item.Nombre }, htmlAttributes: null)*@
                </div>
            }
            else
            { <div class="item " align="center">
                    <img src=@item.Portada width="400" height="400" alt="">  @Html.ActionLink(item.Nombre, "../Juego/Details", new { nombre = item.Nombre })
                </div>
            }
            ViewData["iter"] = 1;

        }
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<br />
<h3 align="center">Comunidades Más Populares</h3>
<br />

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.NomJuego)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Nombre)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Descripcion)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FechaCreacion)
        </th>

    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.NomJuego)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nombre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Descripcion)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FechaCreacion)
            </td>
        </tr>
    }

</table>

<br />


